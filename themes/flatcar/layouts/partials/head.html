<!DOCTYPE html>
<html lang="{{ .Site.LanguageCode }}">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>{{ if eq .Kind "term" }}{{ .Data.Singular }} {{ .Title }}{{ else }}{{ .Title }} | {{ $.Site.Title }}{{ end }}</title>
    <meta name="description" content="Kinvolk builds 100% open source cloud native infrastructure." />

    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link href="https://fonts.googleapis.com/css2?family=Overpass+Mono:wght@300;400;600;700&family=Overpass:ital,wght@0,100;0,200;0,300;0,400;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet" />

    <!-- Search meta tags -->
    {{ if .Params.noindex }}
        <meta name="robots" content="noindex, follow" />
    {{ else }}
        <meta name="robots" content="index, follow" />
        <meta name="googlebot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
        <meta name="bingbot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
    {{ end }}
    <link rel="canonical" href="https://kinvolk.io/" />
    {{ hugo.Generator }}

    {{ $postImage := .Params.postimage }}
    {{ $ogImageWidth := 1200 }}
    {{ $ogImageHeight := 600 }}

    {{ if $postImage }}
        {{ $postImage = printf "https://kinvolk.io/media/%s" $postImage }}
        {{ $ogImageWidth = 0 }}
        {{ $ogImageHeight = 0 }}
    {{ end }}

    {{ $ogImage := default "https://kinvolk.io/images/kinvolk-social-share.png" $postImage }}

    {{ $title := "" }}
    {{ if not (.Section | eq "") }}
        {{ $title = printf "Kinvolk: %s" .Title }}
    {{ end }}

    {{ $ogTitle := default "100% open source cloud native infrastructure | Kinvolk" $title }}
    {{ $ogDescription := default "Kinvolk builds 100% open source cloud native infrastructure." (default .Params.description .Params.tagline) }}

    <!-- Open Graph meta tags -->
    <meta property="og:locale" content="en_US" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="{{ $ogTitle }}" />
    <meta property="og:description" content="{{ $ogDescription }}" />
    <meta property="og:url" content="{{ .Permalink }}" />
    <meta property="og:site_name" content="Kinvolk" />
    <meta property="article:modified_time" content="{{ hugo.BuildDate }}" />
    <meta property="og:image" content="{{ $ogImage }}" />
    {{ if gt $ogImageWidth 0 }}
        <meta property="og:image:width" content="{{ $ogImageWidth }}" />
        <meta property="og:image:height" content="{{ $ogImageHeight }}" />
    {{ end }}

    <!-- Twitter meta tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:image" content="{{ $ogImage }}" />
    <meta name="twitter:creator" content="@kinvolkio" />
    <meta name="twitter:site" content="@kinvolkio" />

    <!-- Custom CSS -->
    {{ $options := (dict "targetPath" "/css/style.css" "outputStyle" "compressed" "enableSourceMap" true) }}
    {{ $style := resources.Get "scss/main.scss" | resources.ToCSS $options | fingerprint}}
    <link rel="stylesheet" href="{{ $style.Permalink }}" integrity="{{ $style.Data.Integrity }}">

    <!-- Favicon -->
    <link rel="shortcut icon" href="{{ $.Site.Params.favicon }}" />
</head>

<body class="{{ if .IsHome }} home-page {{ end }}{{ .Type }} {{ .Kind }}">
